<?php

 get_header(); ?>

<?php if( have_posts() ) the_post(); ?>

<?php 
    $post_id = get_the_id();
    inv_track_post_views( $post_id );
    
    $auth_id = strval( get_the_author_meta( 'ID' ) );
    $avatar = inv_get_author_avatar( $auth_id );   

    $categories = get_the_category();
    $category_id = $categories[0]->cat_ID;
    $category_link = get_category_link( $category_id );
    $category_name = get_cat_name( $category_id );
?>
<div id="primary" class="content-area" >
    <main id="main" class="blog-main" >

    <article class="article">
        <div class="container">

            <p class="article__article-info article-info">
                <span class="article-info__date"><?php echo get_the_date(); ?></span>
                <a href="<?php echo $category_link; ?>" class="article-info__category"><?php echo $category_name; ?></a>
            </p>

            <h1 class="article__title">
                <?php the_title(); ?>
            </h1> 
            <div class="article__excerp">
                <?php the_excerpt(); ?>
            </div>

            <div class="article__author article-author">
                <img src="<?php echo $avatar ?>" alt="" class="article-author__image">
                <div class="article-author__name"><?php the_author(); ?></div>
            </div>

            <div class="article__thumbnail rounded"> 
                <?php the_post_thumbnail(); ?>
            </div>
            
            <div class="article__body content-area">
                <?php the_content(); ?>
            </div> 

            <div class="article__share share-social">
                <p class="share-social__wrapper">
                    <span class="share-social__text">Share</span>
                    <a href="#" class="share-social__link">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						    <path d="M10.2316 2.35637C12.7555 2.35637 13.0544 2.36744 14.047 2.41172C14.9695 2.45231 15.4677 2.60729 15.7998 2.73644C16.2389 2.90618 16.5562 3.11282 16.8847 3.44123C17.2168 3.77333 17.4197 4.08698 17.5895 4.52609C17.7186 4.85819 17.8736 5.36003 17.9142 6.27884C17.9585 7.27515 17.9695 7.57404 17.9695 10.0943C17.9695 12.6183 17.9585 12.9172 17.9142 13.9098C17.8736 14.8323 17.7186 15.3304 17.5895 15.6625C17.4197 16.1016 17.2131 16.419 16.8847 16.7474C16.5526 17.0795 16.2389 17.2824 15.7998 17.4522C15.4677 17.5813 14.9659 17.7363 14.047 17.7769C13.0507 17.8212 12.7519 17.8323 10.2316 17.8323C7.70761 17.8323 7.40872 17.8212 6.41611 17.7769C5.49361 17.7363 4.99546 17.5813 4.66335 17.4522C4.22424 17.2824 3.9069 17.0758 3.57849 16.7474C3.24639 16.4153 3.04344 16.1016 2.8737 15.6625C2.74455 15.3304 2.58957 14.8286 2.54898 13.9098C2.5047 12.9135 2.49363 12.6146 2.49363 10.0943C2.49363 7.57035 2.5047 7.27146 2.54898 6.27884C2.58957 5.35634 2.74455 4.85819 2.8737 4.52609C3.04344 4.08698 3.25008 3.76964 3.57849 3.44123C3.91059 3.10913 4.22424 2.90618 4.66335 2.73644C4.99546 2.60729 5.4973 2.45231 6.41611 2.41172C7.40872 2.36744 7.70761 2.35637 10.2316 2.35637ZM10.2316 0.655273C7.66702 0.655273 7.34599 0.666343 6.33862 0.710624C5.33494 0.754904 4.6449 0.917264 4.04712 1.14973C3.42351 1.39327 2.89584 1.71431 2.37186 2.24198C1.84419 2.76596 1.52316 3.29363 1.27962 3.91355C1.04715 4.51502 0.884786 5.20136 0.840506 6.20504C0.796226 7.21611 0.785156 7.53714 0.785156 10.1017C0.785156 12.6662 0.796226 12.9873 0.840506 13.9946C0.884786 14.9983 1.04715 15.6884 1.27962 16.2861C1.52316 16.9098 1.84419 17.4374 2.37186 17.9614C2.89584 18.4854 3.42351 18.8101 4.04343 19.05C4.6449 19.2824 5.33125 19.4448 6.33493 19.4891C7.3423 19.5333 7.66333 19.5444 10.2279 19.5444C12.7924 19.5444 13.1135 19.5333 14.1208 19.4891C15.1245 19.4448 15.8146 19.2824 16.4123 19.05C17.0323 18.8101 17.5599 18.4854 18.0839 17.9614C18.6079 17.4374 18.9326 16.9098 19.1725 16.2898C19.4049 15.6884 19.5673 15.002 19.6116 13.9983C19.6559 12.991 19.6669 12.6699 19.6669 10.1054C19.6669 7.54083 19.6559 7.2198 19.6116 6.21242C19.5673 5.20874 19.4049 4.51871 19.1725 3.92093C18.94 3.29363 18.619 2.76596 18.0913 2.24198C17.5673 1.718 17.0396 1.39327 16.4197 1.15342C15.8182 0.920954 15.1319 0.758594 14.1282 0.714314C13.1172 0.666343 12.7961 0.655273 10.2316 0.655273Z" fill="white"/>
						    <path d="M10.2313 5.24902C7.55232 5.24902 5.37891 7.42244 5.37891 10.1014C5.37891 12.7803 7.55232 14.9537 10.2313 14.9537C12.9102 14.9537 15.0836 12.7803 15.0836 10.1014C15.0836 7.42244 12.9102 5.24902 10.2313 5.24902ZM10.2313 13.249C8.49327 13.249 7.08369 11.8394 7.08369 10.1014C7.08369 8.36339 8.49327 6.95381 10.2313 6.95381C11.9693 6.95381 13.3788 8.36339 13.3788 10.1014C13.3788 11.8394 11.9693 13.249 10.2313 13.249Z" fill="white"/>
						    <path d="M16.4102 5.05715C16.4102 5.68445 15.901 6.18998 15.2774 6.18998C14.6501 6.18998 14.1445 5.68076 14.1445 5.05715C14.1445 4.42985 14.6538 3.92432 15.2774 3.92432C15.901 3.92432 16.4102 4.43354 16.4102 5.05715Z" fill="white"/>
						</svg>
                    </a>
                    <a href="#" class="share-social__link">
                        <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
						    <path d="M6.8185 15.7768C13.9461 15.7768 17.8457 9.87018 17.8457 4.74956C17.8457 4.58351 17.842 4.41377 17.8346 4.24772C18.5932 3.69912 19.2479 3.0196 19.7678 2.24109C19.0613 2.55542 18.3112 2.76071 17.5431 2.84994C18.3519 2.36516 18.9574 1.6036 19.2475 0.706418C18.4867 1.15732 17.6547 1.47539 16.7871 1.647C16.2025 1.02586 15.4296 0.614591 14.5878 0.476779C13.746 0.338967 12.8823 0.482289 12.1302 0.884585C11.3781 1.28688 10.7794 1.92575 10.4268 2.7024C10.0742 3.47906 9.9872 4.35025 10.1794 5.18129C8.63877 5.10398 7.13163 4.70378 5.75564 4.00663C4.37964 3.30948 3.16551 2.33094 2.19196 1.13446C1.69715 1.98757 1.54574 2.99708 1.7685 3.95782C1.99126 4.91855 2.57147 5.75843 3.39122 6.30674C2.7758 6.2872 2.17386 6.12151 1.63514 5.82335V5.87132C1.63459 6.7666 1.9441 7.63444 2.51105 8.32732C3.078 9.0202 3.86741 9.49536 4.74508 9.67203C4.17499 9.82801 3.57666 9.85073 2.99639 9.73845C3.24405 10.5084 3.72591 11.1818 4.37472 11.6647C5.02353 12.1476 5.80691 12.4159 6.61554 12.4322C5.24273 13.5105 3.5469 14.0954 1.80119 14.0927C1.4916 14.0922 1.18232 14.0732 0.875 14.0358C2.64845 15.1736 4.71145 15.7779 6.8185 15.7768Z" fill="white"/>
						</svg>
                    </a>
                    <a href="#" class="share-social__link">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						    <path d="M18.1857 0.655273H2.08623C1.31502 0.655273 0.691406 1.26412 0.691406 2.01689V18.1828C0.691406 18.9356 1.31502 19.5481 2.08623 19.5481H18.1857C18.9569 19.5481 19.5842 18.9356 19.5842 18.1865V2.01689C19.5842 1.26412 18.9569 0.655273 18.1857 0.655273ZM6.29653 16.7548H3.49212V7.7364H6.29653V16.7548ZM4.89432 6.50763C3.99396 6.50763 3.26703 5.78069 3.26703 4.88402C3.26703 3.98735 3.99396 3.26042 4.89432 3.26042C5.791 3.26042 6.51793 3.98735 6.51793 4.88402C6.51793 5.777 5.791 6.50763 4.89432 6.50763ZM16.7909 16.7548H13.9902V12.371C13.9902 11.3268 13.9717 9.97992 12.5326 9.97992C11.0751 9.97992 10.8537 11.1201 10.8537 12.2972V16.7548H8.05666V7.7364H10.743V8.96886H10.7799C11.1526 8.26038 12.0677 7.51131 13.4293 7.51131C16.2669 7.51131 16.7909 9.37845 16.7909 11.8065V16.7548Z" fill="white"/>
						</svg>
                    </a>
                </p>               
            </div> 

            <div class="article__banner">
                <?php get_template_part( 'template-parts/banners/banner-after-article/banner' ); ?>         
            </div>        

            <div class="artiicle__comments">
                <h4 class="artiicle__comments-title --underline pb-3">
                    Comments
                </h4>
                <p>User comments will be here</p>
                 <!-- comments_template();  -->
            </div>
            
        </div>    
    </article>
    
    </main>
</div>


<?php
get_footer();